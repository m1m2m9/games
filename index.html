<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="Block Blast - —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞!">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- –ò–∫–æ–Ω–∫–∏ –¥–ª—è iOS -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-72.png">
    
    <title>Block Blast</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then((reg) => console.log('SW registered:', reg))
                    .catch((err) => console.log('SW registration failed:', err));
            });
        }
    </script>
</head>
<body>
    <!-- –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div class="particles" id="particles"></div>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="game-container">
        
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div class="menu-screen" id="menuScreen">
            <h1 class="game-title">BLOCK BLAST</h1>
            <p class="game-subtitle">–ó–∞–ø–æ–ª–Ω—è–π –ª–∏–Ω–∏–∏, –Ω–∞–±–∏—Ä–∞–π –æ—á–∫–∏!</p>
            
            <button class="menu-btn btn-play" id="btnPlay">
                ‚ñ∂ –ò–≥—Ä–∞—Ç—å
            </button>
            <button class="menu-btn btn-settings" id="btnSettings">
                ‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
            
            <div class="high-score-display">
                <div class="high-score-label">–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
                <div class="high-score-value" id="highScoreValue">0</div>
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div class="game-screen" id="gameScreen">
            <div class="game-header">
                <button class="header-btn" id="btnPause">‚è∏</button>
                
                <div class="score-section">
                    <div class="score-label">–°—á—ë—Ç</div>
                    <div class="score-value current" id="currentScore">0</div>
                </div>
                
                <div class="score-section">
                    <div class="score-label">–†–µ–∫–æ—Ä–¥</div>
                    <div class="score-value best" id="bestScore">0</div>
                </div>
                
                <button class="header-btn" id="btnSound">üîä</button>
            </div>

            <div class="game-board" id="gameBoard"></div>

            <div class="pieces-panel" id="piecesPanel"></div>
        </div>
    </div>

    <!-- Ghost piece –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è -->
    <div class="ghost-piece" id="ghostPiece"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–∞—É–∑—ã -->
    <div class="modal-overlay pause-modal" id="pauseModal">
        <div class="modal">
            <h2 class="modal-title">‚è∏ –ü–∞—É–∑–∞</h2>
            <p class="modal-text">–ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</p>
            
            <button class="modal-btn btn-restart" id="btnResume">‚ñ∂ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            <button class="modal-btn btn-menu" id="btnRestartPause">üîÑ –ó–∞–Ω–æ–≤–æ</button>
            <button class="modal-btn btn-menu" id="btnMenuPause">üè† –í –º–µ–Ω—é</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ Game Over -->
    <div class="modal-overlay gameover-modal" id="gameOverModal">
        <div class="modal">
            <h2 class="modal-title">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <div class="modal-score" id="finalScore">0</div>
            <p class="modal-text new-record" id="newRecord" style="display: none;">üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!</p>
            
            <button class="modal-btn btn-restart" id="btnRestartOver">üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            <button class="modal-btn btn-menu" id="btnMenuOver">üè† –í –º–µ–Ω—é</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="modal-overlay settings-modal" id="settingsModal">
        <div class="modal">
            <h2 class="modal-title">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            
            <div class="setting-item">
                <span class="setting-label">üîä –ó–≤—É–∫–∏</span>
                <div class="toggle active" id="toggleSound"></div>
            </div>
            
            <div class="setting-item">
                <span class="setting-label">üì≥ –í–∏–±—Ä–∞—Ü–∏—è</span>
                <div class="toggle active" id="toggleVibration"></div>
            </div>
            
            <button class="modal-btn btn-restart" id="btnCloseSettings" style="margin-top: 25px;">‚úì –ì–æ—Ç–æ–≤–æ</button>
        </div>
    </div>

    <script src="js/game.js"></script>
</body>
</html>
